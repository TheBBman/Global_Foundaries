$ PMOS + NMOS + BJT

$ Define the grid
MESH       GRID.FAC=0.5

$ Read the mask definition file
MASK       IN.FILE=master.tl1 

$ Initialize the structure
INITIALIZE <100>  BORON=1E14

$ N-well

DEPOSIT    PHOTORESIST  NEGATIVE  THICKNESS=1
EXPOSE     MASK=Nwell
DEVELOP

IMPLANT    Arsenic      DOSE=6E11  ENERGY=50  
ETCH       PHOTORESIST  ALL
DIFFUSION  TIME=30  TEMP=1300         

$ Gate oxidation

DIFFUSION  TIME=15  TEMP=1000  DRY HCL=5
DEPOSIT    PHOTORESIST  POSITIVE  THICKNESS=1
EXPOSE     MASK=Gate
DEVELOP
ETCH       OXIDE        TRAP  THICKNESS=1.5 UNDERCUT=0.1
ETCH       PHOTORESIST  ALL

$ P-doping

$ BJT Base p doping

DEPOSIT    PHOTORESIST  NEGATIVE  THICKNESS=1
EXPOSE     MASK=pdopingbjt
DEVELOP

IMPLANT    Boron  DOSE=6E12  ENERGY=70
ETCH       PHOTORESIST  ALL

$ BJT emitter n doping

DEPOSIT    PHOTORESIST  NEGATIVE  THICKNESS=1
EXPOSE     MASK=ndopingbjt
DEVELOP

IMPLANT    Arsenic  DOSE=6E13  ENERGY=250
ETCH       PHOTORESIST  ALL
DIFFUSION  TIME=30  TEMP=1100

$ N-MOS ndoping

DEPOSIT    PHOTORESIST  NEGATIVE  THICKNESS=1
EXPOSE     MASK=ndopingmos
DEVELOP

IMPLANT    Arsenic DOSE=2E13  ENERGY=33
ETCH       PHOTORESIST  ALL
DIFFUSION  TIME=15  TEMP=950

$ P-MOS pdoping

DEPOSIT    PHOTORESIST  NEGATIVE  THICKNESS=1
EXPOSE     MASK=pdopingmos
DEVELOP

IMPLANT    Boron  DOSE=6E12  ENERGY=50
ETCH       PHOTORESIST  ALL
DIFFUSION  TIME=15  TEMP=950

$ Poly (gate contact)

DEPOSIT MAT=POLY THICKNESS=0.3
DEPOSIT PHOTORESIST POSITIVE THICKNESS=1.0
EXPOSE MASK=poly
DEVELOP
ETCH POLYSILICON TRAP THICK=2
ETCH PHOTORESIST ALL

$ Metal Contacts

DEPOSIT ALUMINUM THICKNESS=0.5
DEPOSIT PHOTORESISTPOSITIVE THICKNESS=1.0
EXPOSE MASK=Contact
DEVELOP
ETCH ALUMINUM TRAP THICKNESS=1.5
ETCH PHOTORESIST ALL

ELECTRIC X=5 THRESHOLD PMOS V="-3 0 0.05"

ELECTRIC X=15 THRESHOLD NMOS V="0 3 0.05"

ELECTRIC x=14

ELECTRIC x=54 MOSCAP NMOS V='0 5 0.5'

$ Save structure

savefile out.f=3pnb.tif tif

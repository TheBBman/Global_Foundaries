$ Define the grid
MESH       GRID.FAC=0.1 LY.SURF=0.01 LY.ACTIV=0.03 LY.BOT=0.04 

$ Read the mask definition file
MASK       IN.FILE=fabrication.tl1 

$ Initialize the structure
INITIALIZE <100>  BORON=1E16

$ N-well

DEPOSIT    PHOTORESIST  POSITIVE  THICKNESS=2
EXPOSE     MASK=Nwell
DEVELOP

IMPLANT    PHOSPHORUS    DOSE=8E11  ENERGY=10
ETCH       PHOTORESIST  ALL    

$ Pmos-Channel

DEPOSIT    PHOTORESIST  POSITIVE  THICKNESS=2
EXPOSE     MASK=PGate
DEVELOP

IMPLANT    PHOSPHORUS    DOSE=1.3E14  ENERGY=32
ETCH       PHOTORESIST  ALL    

DEPOSIT    OXIDE  THICKNESS=0.013
DEPOSIT    PHOTORESIST  POSITIVE  THICKNESS=2
EXPOSE     MASK=PGate
DEVELOP
  
IMPLANT    PHOSPHORUS    DOSE=6E13  ENERGY=10  
ETCH       PHOTORESIST  ALL      
ETCH       OXIDE    OLD.DRY    THICKNESS=0.013

$ Nmos-Channel
$
$DEPOSIT    PHOTORESIST  NEGATIVE  THICKNESS=2
$EXPOSE     MASK=NGate
$DEVELOP
$
$IMPLANT    Boron         DOSE=1E10  ENERGY=50  
$ETCH       PHOTORESIST  ALL    
$DIFFUSION  TIME=5  TEMP=1400  

$ Save structure
savefile out.f=fabrication.tif tif
SELECT Z=PHOSPHORUS
PRINT.1D X.value=0.4 OUT.FILE=pmos_channel_doping.txt
